import { StrykerOptions } from '@stryker-mutator/api/core';
import { Logger } from '@stryker-mutator/api/logging';
import { TestFramework } from '@stryker-mutator/api/test_framework';
import { RunResult } from '@stryker-mutator/api/test_runner';
import { Transpiler } from '@stryker-mutator/api/transpile';
import InputFileCollection from '../input/InputFileCollection';
import LoggingClientContext from '../logging/LoggingClientContext';
import { CoverageMapsByFile } from '../transpiler/CoverageInstrumenterTranspiler';
import SourceMapper from '../transpiler/SourceMapper';
import { TemporaryDirectory } from '../utils/TemporaryDirectory';
import Timer from '../utils/Timer';
export interface InitialTestRunResult {
    runResult: RunResult;
    overheadTimeMS: number;
    sourceMapper: SourceMapper;
    coverageMaps: CoverageMapsByFile;
}
export default class InitialTestExecutor {
    private readonly options;
    private readonly log;
    private readonly inputFiles;
    private readonly testFramework;
    private readonly timer;
    private readonly loggingContext;
    private readonly transpiler;
    private readonly tempDir;
    static inject: ["options", "logger", "inputFiles", "testFramework", "timer", "loggingContext", "transpiler", "temporaryDirectory"];
    constructor(options: StrykerOptions, log: Logger, inputFiles: InputFileCollection, testFramework: TestFramework | null, timer: Timer, loggingContext: LoggingClientContext, transpiler: Transpiler, tempDir: TemporaryDirectory);
    run(): Promise<InitialTestRunResult>;
    private runInSandbox;
    private annotateForCodeCoverage;
    private validateResult;
    /**
     * Calculates the timing variables for the test run.
     * grossTime = NetTime + overheadTime
     *
     * The overhead time is used to calculate exact timeout values during mutation testing.
     * See timeoutMS setting in README for more information on this calculation
     */
    private calculateTiming;
    private getCollectCoverageHooksIfNeeded;
    private logTranspileResult;
    private filterOutFailedTests;
    private logInitialTestRunSucceeded;
    private logFailedTestsInInitialRun;
    private logErrorsInInitialRun;
    private logTimeoutInitialRun;
}
//# sourceMappingURL=InitialTestExecutor.d.ts.map