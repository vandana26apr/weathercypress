"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const fs = require("fs");
const path_1 = tslib_1.__importDefault(require("path"));
/**
 * The Default config loader will load the Jest configuration using the package.json in the package root
 */
class CustomJestConfigLoader {
    constructor(projectRoot, _loader = require) {
        this._loader = _loader;
        this._projectRoot = projectRoot;
    }
    loadConfig() {
        const jestConfig = this.readConfigFromJestConfigFile() || this.readConfigFromPackageJson() || {};
        return jestConfig;
    }
    readConfigFromJestConfigFile() {
        try {
            return this._loader(path_1.default.join(this._projectRoot, 'jest.config.js'));
        }
        catch (_a) {
            /* Don't return anything (implicitly return undefined) */
        }
    }
    readConfigFromPackageJson() {
        try {
            return JSON.parse(fs.readFileSync(path_1.default.join(this._projectRoot, 'package.json'), 'utf8')).jest;
        }
        catch (_a) {
            /* Don't return anything (implicitly return undefined) */
        }
    }
}
exports.default = CustomJestConfigLoader;
//# sourceMappingURL=CustomJestConfigLoader.js.map