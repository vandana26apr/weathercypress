"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path = require("path");
const util_1 = require("util");
const util_2 = require("@stryker-mutator/util");
const mkdirp = require("mkdirp");
const rimraf = require("rimraf");
function copyFile(fromFilename, toFilename) {
    return new Promise((resolve, reject) => {
        const readStream = util_2.fsAsPromised.createReadStream(fromFilename);
        const writeStream = util_2.fsAsPromised.createWriteStream(toFilename);
        readStream.on('error', reject);
        writeStream.on('error', reject);
        readStream.pipe(writeStream);
        readStream.on('end', resolve);
    });
}
exports.copyFile = copyFile;
exports.deleteDir = util_1.promisify(rimraf);
exports.mkdir = util_1.promisify(mkdirp);
async function writeFile(fileName, content) {
    await exports.mkdir(path.dirname(fileName));
    await util_2.fsAsPromised.writeFile(fileName, content, 'utf8');
}
exports.writeFile = writeFile;
//# sourceMappingURL=util.js.map